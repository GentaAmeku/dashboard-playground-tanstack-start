# Project Init（開発環境セットアップ）

このコマンドは、**開発環境でこのプロジェクトを初期セットアップするための手順**をまとめたものです。  
依存関係のインストールからデータベースのセットアップ、開発サーバーの起動までを順に実行します。

> 💡 Cursor では、コマンドパレット等で `/init` を指定してこのドキュメントを参照できます。

---

## 1. 前提条件の確認

### Node.js

- 推奨バージョン: **Node.js 24.11.1**

バージョン確認:

```bash
node -v
```

---

## 2. pnpm の確認とインストール案内

このプロジェクトでは **pnpm を基本のパッケージマネージャーとして使用**します。

### 2-1. pnpm コマンドが使えるか確認

```bash
pnpm -v
```

- バージョンが表示されれば OK です。
- `command not found: pnpm` 等のエラーが出る場合は、以下のいずれかの方法でインストールしてください。

### 2-2. Node.js 同梱の Corepack を使ってインストール（推奨）

```bash
corepack enable
corepack prepare pnpm@latest --activate
```

その後、再度バージョン確認:

```bash
pnpm -v
```

### 2-3. npm を使ってグローバルインストールする場合

```bash
npm install -g pnpm
```

---

## 3. 依存関係のインストール

プロジェクトルート（`dashboard-playground-nextjs/`）で以下を実行します：

```bash
pnpm install
```

---

## 4. データベースのセットアップ

### 4-1. Cursor のカスタムコマンド `/db-setup` を使う場合（推奨）

Cursor を使用している場合は、コマンドパレットなどから **`/db-setup`** を実行することで、

- `pnpm db:push`
- `pnpm db:seed`

を順番に実行し、開発用データベースをセットアップできます。  
詳細は [`./db-setup.md`](./db-setup.md) を参照してください。

### 4-2. 手動でセットアップする場合

既存のデータベースを削除してクリーンな状態からセットアップしたい場合は、以下のように手動でも実行できます：

```bash
# 既存データベースをリセット（オプション・初回は不要）
rm -f local.db local.db-shm local.db-wal

# スキーマ反映とシードデータ投入
pnpm db:push && pnpm db:seed
```

---

## 5. 開発サーバーの起動

依存関係とデータベースがセットアップできたら、開発サーバーを起動します：

```bash
pnpm dev
```

ブラウザで `http://localhost:3000` を開くとダッシュボードを確認できます。

---

## 6. まとめ（一括で流れを把握したい場合）

それぞれのステップは個別に実行するのがおすすめですが、流れとしては次のようになります：

```bash
# 1. 依存関係のインストール
pnpm install

# 2. データベースのセットアップ（どちらか一方）

## Cursor のカスタムコマンドを使う場合
# → コマンドパレット等から /db-setup を実行

## もしくは手動で:
pnpm db:push && pnpm db:seed

# 3. 開発サーバーの起動
pnpm dev
```

この手順を完了すれば、開発環境でのプロジェクト動作確認ができる状態になります。


